{% extends 'base.html.twig' %}

{# {% block title %}Liste des recettes{% endblock %}

{% block body %}
<h3>
Voici la liste des recettes
</h3> #}
{# <ul> #}
    {# <li>
        <a href={{ path("app_recipe_show", {id:recettes.0.id, slug:recettes.0.slug}) }}>
        {{ recettes.0.title }}
        </a>
    </li>
    <li>
        <a href={{ path("app_recipe_show", {id:recettes.1.id, slug:recettes.1.slug}) }}>
        {{ recettes.1.title }}
        </a>
    </li>
    <li>
        <a href={{ path("app_recipe_show", {id:recettes.2.id, slug:recettes.2.slug}) }}>
        {{ recettes.2.title }}
        </a>
    </li> #}
    
    {# On peut faire une boucle pour afficher toutes les recettes #}
    {# {% for recipe in recipes %}
        <li>
            <a href={{ path("app_recipe_show", {id: recipe.getId, slug: recipe.getSlug}) }}>
            {{ recipe.getTitle }}
            </a>
        </li>
    {% else %}
        <li>Pas encore de recettes</li>
    {% endfor %}
</ul>
            
{% endblock %} #}

{% block body %}
    {% set nbRecipes = recipes | length %}
    <h1 align="center">
        Bienvenu dans la liste des Recettes ({{ nbRecipes }})
    </h1>
    <div class = "container text-center">
        <div class = "row">
            {% for recipe in recipes %}
                <div class="card max-w-sm col-4 bg-white rounded-lg border
                border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700 my-8 mr-4"
                data-type="post">
                    <h2>
                        <a href={{ path('app_recipe_show', {id : recipe.id, slug : recipe.slug})}}>{{ recipe.title |u.truncate(20,'...', true) }} 
                        </a>
                    </h2>
                    <img src = "https://pbs.twimg.com/media/EdDUBw0WkAAQLJ1?format=jpg&name=large" width="150" height="200">
                    <p>
                        Submitted {{ recipe.createdAt |ago(locale='fr') }}
                    </p>
                </div>
            {% else %}
                <p>Pas encore de recette</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}
